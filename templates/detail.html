{% extends './base.html' %} {% block content %}
<title>FIHO - {{detail[1]}}</title>
<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <span class="title-custom text-recommend">{{detail[1]}}</span>
</div>
<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 mt-3">
    <div
        id="carouselExampleIndicators"
        class="carousel slide"
        data-ride="carousel"
    >
        <ol class="carousel-indicators">
            <li
                data-target="#carouselExampleIndicators"
                data-slide-to="0"
                class="active"
            ></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active" id="images-active">
                <img src="{%if detail[8]|length < 3 %}
                https://staticfile.batdongsan.com.vn/images/no-image.png
                {%else%} {{detail[8].split(',')[0].split("'")[1]}} {%endif%}"
                class="d-block w-100"
                alt="{{detail[8].split(',')[0].split("'")[1]}}" height="340px"
                />
            </div>
            <div class="carousel-item" id="images">
                <img src="{%if detail[8]|length < 3 %}
                https://staticfile.batdongsan.com.vn/images/no-image.png
                {%else%} {{detail[8].split(',')[0].split("'")[1]}} {%endif%}"
                class="d-block w-100"
                alt="{{detail[8].split(',')[0].split("'")[1]}}" height="340px"
                />
            </div>
            <div class="carousel-item">
                <img
                    src="https://staticfile.batdongsan.com.vn/images/no-image.png"
                    class="d-block w-100"
                    alt="..."
                    height="340px"
                />
            </div>
        </div>
        <a
            class="carousel-control-prev"
            href="#carouselExampleIndicators"
            role="button"
            data-slide="prev"
        >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a
            class="carousel-control-next"
            href="#carouselExampleIndicators"
            role="button"
            data-slide="next"
        >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <div class="card card-bg mt-3">
        <div class="card-header card-bg">Thông tin mô tả</div>
        <div class="card-body mt-0">
            <textarea class="form-control card-des" id="description" readonly>
                {{detail[10]}}
            </textarea>
        </div>
    </div>
</div>
<div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 mt-3">
    <style>
        #map {
            width: 100%;
            height: 340px;
        }
    </style>
    <div id="map"></div>
    <script>
        window.onload = function () {
            mapboxgl.accessToken =
                "pk.eyJ1IjoidnVseXRoaWVuYW5oIiwiYSI6ImNrZXlhNXd3ZDBkb2Myd3AzYWRxaXhodnIifQ.de-6twccJ_8Jte2Iy5xVqg";
            var map = new mapboxgl.Map({
                container: "map",
                style: "mapbox://styles/mapbox/streets-v11",
                center: [`{{detail[11]}}`, `{{detail[12]}}`],
                zoom: 15,
            });

            var marker = new mapboxgl.Marker()
                .setLngLat([`{{detail[11]}}`, `{{detail[12]}}`])
                .addTo(map);
        };
    </script>
    <div class="card card-bg mt-3">
        <div class="card-header card-bg">Đặc điểm bất động sản</div>
        <div class="card-body card-properties">
            <table class="table">
                <tbody>
                    <tr>
                        <th scope="col">Giá:</th>
                        <td scope="col" id="price">{{detail[2]}}</td>
                    </tr>
                    <tr>
                        <th class="table-size" scope="row">Diện tích:</th>
                        <td id="area">{{detail[3]}}</td>
                    </tr>
                    <tr>
                        <th class="table-size" scope="row">Số phòng ngủ:</th>
                        <td id="bedrooms">
                            <!-- {%if detail[4] is defined%}Chưa xác
                            định{%else%}{{detail[4]}}{%endif%} -->
                            {{detail[4]}}
                        </td>
                    </tr>
                    <tr>
                        <th class="table-size" scope="row">Số tầng:</th>
                        <td id="floors">{{detail[5]}}</td>
                    </tr>
                    <tr>
                        <th class="table-size" scope="row">Hướng:</th>
                        <td id="direction">{{detail[6]}}</td>
                    </tr>
                    <tr>
                        <th class="table-size" scope="row">Địa chỉ:</th>
                        <td id="address">{{detail[7]}}</td>
                    </tr>
                    <tr>
                        <th class="table-size" scope="row">
                            Liên hệ người bán:
                        </th>
                        <td id="phone">0{{detail[9]}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
