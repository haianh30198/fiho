<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>FIHO - H·ªá th·ªëng t∆∞ v·∫•n g·ª£i √Ω nh√† ·ªü</title>
        <link rel="icon" href="{{ url_for('static', filename='fiho.ico') }}" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Notable&display=swap"
            rel="stylesheet"
        />
        <script src="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js"></script>
        <link
            href="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
            integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
            crossorigin="anonymous"
        />
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='css/style2.css') }}"
        />
    </head>
    <body>
        <div class="bg-image"></div>
        <!--Navbar -->
        <nav class="navbar navbar-expand-lg navbar-light">
            <a class="navbar-brand" href="/">
                <img
                    src="http://haianhnguyen.ml/img/logoinvisible.png"
                    width="50"
                    height="50"
                    class="d-inline-block align-top"
                    alt="FIHO"
                    style="transform: rotate(-15deg)"
                />
                <span style="color: #ea7020">FI</span
                ><span style="color: #1da1f2">HO</span></a
            >
            <button
                class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>

            <div
                class="collapse navbar-collapse justify-content-end"
                id="navbarSupportedContent"
            >
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="/"
                            >Trang ch·ªß <span class="sr-only">(current)</span></a
                        >
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">V·ªÅ t√¥i</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a
                            class="nav-link dropdown-toggle"
                            href="#"
                            id="navbarDropdown"
                            role="button"
                            data-toggle="dropdown"
                            aria-haspopup="true"
                            aria-expanded="false"
                        >
                            Li√™n h·ªá
                        </a>
                        <div
                            class="dropdown-menu"
                            aria-labelledby="navbarDropdown"
                        >
                            <a
                                class="dropdown-item"
                                href="http://fb.com/vulythienanh"
                                target="_blank"
                                >Facebook</a
                            >
                            <a
                                class="dropdown-item"
                                href="mailto:haianh30198@gmail.com"
                                >Gmail</a
                            >
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="tel:0335832168"
                                >0335832168</a
                            >
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" href="/admin"
                            >Trang qu·∫£n l√Ω</a
                        >
                    </li>
                </ul>
            </div>
        </nav>
        <!-- END - Navbar -->
        <div class="container-fuild mb-3 pb-5">
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <span class="title-custom"
                        >Ng√¥i nh√† b·∫°n mong mu·ªën l√† g√¨? ü§î</span
                    >
                    <div class="card card-item mt-3">
                        <div class="card-body">
                            <form method="post">
                                <div class="form-row">
                                    <div class="form-group col-md-2">
                                        <label
                                            class="font-weight-bold"
                                            for="district"
                                            >Qu·∫≠n</label
                                        >
                                        <select
                                            class="form-control"
                                            name="district"
                                            id="district"
                                        >
                                            <option value="1">Ninh Ki·ªÅu</option>
                                            <option value="2">C√°i RƒÉng</option>
                                            <option value="3">B√¨nh Th·ªßy</option>
                                            <option value="4">√î M√¥n</option>
                                            <option value="5">Th·ªët N·ªët</option>
                                            <option value="6">
                                                Vƒ©nh Th·∫°nh
                                            </option>
                                            <option value="7">Th·ªõi Lai</option>
                                            <option value="8">C·ªù ƒê·ªè</option>
                                            <option value="9">
                                                Phong ƒêi·ªÅn
                                            </option>
                                        </select>
                                        <small class="form-text text-muted"
                                            >Hi·ªán t·∫°i ch√∫ng t√¥i ch·ªâ h·ªó tr·ª£ c√°c
                                            qu·∫≠n huy·ªán ·ªü th√†nh ph·ªë C·∫ßn
                                            Th∆°.</small
                                        >
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label
                                            class="font-weight-bold"
                                            for="price"
                                            >Gi√°</label
                                        >
                                        <select
                                            class="form-control"
                                            id="price"
                                            name="price"
                                        >
                                            <option value="0">
                                                Th·ªèa thu·∫≠n
                                            </option>
                                            <option value="250000000">
                                                D∆∞·ªõi 500 tri·ªáu
                                            </option>
                                            <option value="650000000">
                                                500-800 tri·ªáu
                                            </option>
                                            <option value="900000000">
                                                800-1 t·ª∑
                                            </option>
                                            <option value="2000000000">
                                                1-3 t·ª∑
                                            </option>
                                            <option value="4000000000">
                                                3-5 t·ª∑
                                            </option>
                                            <option value="6000000000">
                                                5-7 t·ª∑
                                            </option>
                                            <option value="8500000000">
                                                7-10 t·ª∑
                                            </option>
                                            <option value="15000000000">
                                                10-20 t·ª∑
                                            </option>
                                            <option value="25000000000">
                                                20-30 t·ª∑
                                            </option>
                                            <option value="50000000000">
                                                Tr√™n 30 t·ª∑
                                            </option>
                                        </select>
                                        <label
                                            class="font-weight-bold"
                                            for="priceUp"
                                            >∆Øu ti√™n gi√° (<span
                                                class="text-danger"
                                                id="slider_label_price"
                                                >1</span
                                            >)</label
                                        >
                                        <input
                                            type="range"
                                            class="form-control-range"
                                            min="1"
                                            max="5"
                                            step="1"
                                            value="1"
                                            id="priceUp"
                                            name="priceUp"
                                        />
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label
                                            class="font-weight-bold"
                                            for="area"
                                            >Di·ªán t√≠ch</label
                                        >
                                        <select
                                            class="form-control"
                                            id="area"
                                            name="area"
                                        >
                                            <option value="0">
                                                Ch∆∞a x√°c ƒë·ªãnh
                                            </option>
                                            <option value="25">
                                                D∆∞·ªõi 30 m¬≤
                                            </option>
                                            <option value="40">30-50 m¬≤</option>
                                            <option value="60">50-70 m¬≤</option>
                                            <option value="85">
                                                70-100 m¬≤
                                            </option>
                                            <option value="125">
                                                100-150 m¬≤
                                            </option>
                                            <option value="175">
                                                150-200 m¬≤
                                            </option>
                                            <option value="250">
                                                200-300 m¬≤
                                            </option>
                                            <option value="350">
                                                200-500 m¬≤
                                            </option>
                                            <option value="750">
                                                500-1000 m¬≤
                                            </option>
                                            <option value="1200">
                                                Tr√™n 1000 m¬≤
                                            </option>
                                        </select>
                                        <label
                                            class="font-weight-bold"
                                            for="areaUp"
                                            >∆Øu ti√™n di·ªán t√≠ch (<span
                                                class="text-danger"
                                                id="slider_label_area"
                                                >1</span
                                            >)</label
                                        >
                                        <input
                                            type="range"
                                            class="form-control-range"
                                            min="1"
                                            max="5"
                                            step="1"
                                            value="1"
                                            id="areaUp"
                                            name="areaUp"
                                        />
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label
                                            class="font-weight-bold"
                                            for="floors"
                                            >S·ªë t·∫ßng</label
                                        >
                                        <select
                                            class="form-control"
                                            id="floors"
                                            name="floors"
                                        >
                                            <option value="0">
                                                Ch∆∞a x√°c ƒë·ªãnh
                                            </option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">9+</option>
                                        </select>
                                        <label
                                            class="font-weight-bold"
                                            for="floorsUp"
                                            >∆Øu ti√™n t·∫ßng (<span
                                                class="text-danger"
                                                id="slider_label_floors"
                                                >1</span
                                            >)</label
                                        >
                                        <input
                                            type="range"
                                            class="form-control-range"
                                            min="1"
                                            max="5"
                                            step="1"
                                            value="1"
                                            id="floorsUp"
                                            name="floorsUp"
                                        />
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label
                                            class="font-weight-bold"
                                            for="bedrooms"
                                            >S·ªë ph√≤ng ng·ªß</label
                                        >
                                        <select
                                            class="form-control"
                                            id="bedrooms"
                                            name="bedrooms"
                                        >
                                            <option value="0">
                                                Ch∆∞a x√°c ƒë·ªãnh
                                            </option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">9+</option>
                                        </select>
                                        <label
                                            class="font-weight-bold"
                                            for="bedroomsUp"
                                            >∆Øu ti√™n ph√≤ng ng·ªß (<span
                                                class="text-danger"
                                                id="slider_label_beds"
                                                >1</span
                                            >)</label
                                        >
                                        <input
                                            type="range"
                                            class="form-control-range"
                                            min="1"
                                            max="5"
                                            step="1"
                                            value="1"
                                            id="bedroomsUp"
                                            name="bedroomsUp"
                                        />
                                    </div>
                                    <div class="form-group col-md-2">
                                        <label
                                            class="font-weight-bold"
                                            for="direction"
                                            >H∆∞·ªõng nh√†</label
                                        >
                                        <select
                                            class="form-control"
                                            id="direction"
                                            name="direction"
                                        >
                                            <option value="0">
                                                Ch∆∞a x√°c ƒë·ªãnh
                                            </option>
                                            <option value="1">ƒê√¥ng</option>
                                            <option value="2">T√¢y</option>
                                            <option value="3">Nam</option>
                                            <option value="4">B·∫Øc</option>
                                            <option value="5">ƒê√¥ng-B·∫Øc</option>
                                            <option value="6">T√¢y-B·∫Øc</option>
                                            <option value="7">ƒê√¥ng-Nam</option>
                                            <option value="8">T√¢y-Nam</option>
                                        </select>
                                        <label
                                            class="font-weight-bold"
                                            for="directionUp"
                                            >∆Øu ti√™n h∆∞·ªõng nh√† (<span
                                                class="text-danger"
                                                id="slider_label_direc"
                                                >1</span
                                            >)</label
                                        >
                                        <input
                                            type="range"
                                            class="form-control-range"
                                            min="1"
                                            max="5"
                                            step="1"
                                            value="1"
                                            id="directionUp"
                                            name="directionUp"
                                        />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div
                                                class="input-group-text font-weight-bold"
                                            >
                                                ƒê·ªãa ƒëi·ªÉm l√¢n c·∫≠n
                                            </div>
                                        </div>
                                        <input
                                            type="text"
                                            class="form-control"
                                            id="placesNearby"
                                            name="placesNearby"
                                            value="Nh√† h√†ng, qu√°n c√† ph√™, c√¥ng vi√™n"
                                            placeholder="Nh√† h√†ng, qu√°n c√† ph√™, c√¥ng vi√™n"
                                            required
                                        />
                                    </div>
                                    <small
                                        id="placesNearbyHelp"
                                        class="form-text text-muted"
                                        >Nh·∫≠p ƒë·ªãa ƒëi·ªÉm ƒë·∫°i di·ªán ƒë·ª´ng nh·∫≠p ƒë·ªãa
                                        ƒëi·ªÉm ri√™ng nha b·∫°n.</small
                                    >
                                </div>
                                <div class="text-center">
                                    <button
                                        type="button"
                                        class="btn btn-info"
                                        id="button-submit"
                                    >
                                        G·ª£i √Ω n√†o !
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-5" id="result">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <style>
                        #map {
                            height: 350px;
                            margin-top: 1rem !important;
                            border-radius: 0.25rem;
                            margin-left: 5px;
                            margin-right: 5px;
                        }
                    </style>
                    <span class="title-custom">
                        ƒê√¢y l√† nh·ªØng ng√¥i nh√† ch√∫ng t√¥i ƒëang b√°n! üòã
                    </span>
                    <div id="map"></div>
                    <!-- Hi·ªÉn th·ªã t·∫•t c·∫£ nh√† tr√™n b·∫£n ƒë·ªì -->
                    <script>
                        mapboxgl.accessToken =
                            "pk.eyJ1IjoidnVseXRoaWVuYW5oIiwiYSI6ImNrZXlhNXd3ZDBkb2Myd3AzYWRxaXhodnIifQ.de-6twccJ_8Jte2Iy5xVqg";

                            var map = new mapboxgl.Map({
                            container: "map",
                            style: "mapbox://styles/mapbox/streets-v11",
                            center: [105.7225509, 10.0342696],
                            zoom: 10,
                        });

                        {%for local in range(0,lengthLocation)%};
                        var marker{{local+1}} = new mapboxgl.Marker()
                            .setLngLat({{locationAll[local]}})
                            .setPopup(new mapboxgl.Popup({ offset: 25 }) // add popups
                            .setHTML('<h6><a target="_blank" href="./detail/{{dataRaw[local][0]}}">' + '{{(dataRaw[local][1])[0:40]}}...' + '</a></h6><p>' + 'Gi√°: {{dataRaw[local][2]}} | Di·ªán t√≠ch: {{dataRaw[local][3]}}' + '</p><p>'+ 'S·ªë PN: {{dataRaw[local][4]}} | S·ªë T·∫ßng: {{dataRaw[local][5]}}' +'</p><p>'+'H∆∞·ªõng nh√†: {{dataRaw[local][6]}}'+'</p>'))
                            .addTo(map);
                        {%endfor%};

                        // Add geolocate control to the map.
                        map.addControl(
                            new mapboxgl.GeolocateControl({
                                positionOptions: {
                                    enableHighAccuracy: true
                                },
                                trackUserLocation: true
                            })
                        );
                    </script>
                    <!-- END - Hi·ªÉn th·ªã t·∫•t c·∫£ nh√† tr√™n b·∫£n ƒë·ªì -->
                </div>
            </div>
        </div>
        <!-- Footer -->
        <footer class="footer">
            <div class="container text-center">
                <span class="text-muted"
                    >¬© 2020 Copyright:
                    <a href="https://haianh.ml/"> Haianh.ML</a></span
                >
            </div>
        </footer>
        <!-- Footer -->
        <script
            src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
            crossorigin="anonymous"
        ></script>
        <script src="https://unpkg.com/uuid@latest/dist/umd/uuidv4.min.js"></script>
        <script src="{{ url_for('static', filename='js/custom.js') }}"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <script src="{{ url_for('static', filename='js/resultAjax.js') }}"></script>
    </body>
</html>
